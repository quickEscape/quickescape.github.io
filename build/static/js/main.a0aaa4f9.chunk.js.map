{"version":3,"sources":["components/header/Header.js","components/content/Content.js","components/bet/Bet.js","components/spin/Spin.js","components/some-text/SomeText.js","components/win/Win.js","components/footer/Footer.js","components/slot-screen/SlotScreen.js","components/loader/Loader.js","containers/HOF.js","index.js"],"names":["Header","props","className","balance","Content","children","Bet","bet","isMinusDisabled","isPlusDisabled","handlerBetDown","handlerBetUp","onClick","disabled","Spin","handlerSpin","SomeText","text","Win","win","Footer","isSpinDisabled","SlotScreen","slots","map","slot","i","key","row","SlotRow","value","Loader","API_URL","uid","URLSearchParams","window","location","search","get","Modal","setAppElement","defaultStyles","overlay","backgroundColor","content","display","justifyContent","alignItems","top","right","bottom","left","HOF","useState","loaderText","setLoaderText","isSpin","setIsSpin","setBalance","setSlots","setBet","bets","setBets","setWin","modalIsOpen","setModalIsOpen","useEffect","fetch","then","response","json","data","error","last_bet","rolls","errorMsg","Error","indexOf","console","log","setTimeout","closeModal","length","isOpen","onRequestClose","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a0aaa4f9.chunk.js","sourcesContent":["import * as React from 'react';\r\n\r\nexport const Header = props => (\r\n\t<header className=\"header\">\r\n\t\t<div className=\"header__balance\">{props.balance}</div>\r\n\t</header>\r\n);\r\n","import * as React from 'react';\r\n\r\nexport const Content = props => (\r\n\t<main className=\"content\">{props.children}</main>\r\n);\r\n","import * as React from 'react';\r\n\r\nexport const Bet = props => {\r\n\tconst {\r\n\t\tbet,\r\n\t\tisMinusDisabled,\r\n\t\tisPlusDisabled,\r\n\t\thandlerBetDown,\r\n\t\thandlerBetUp\r\n\t} = props;\r\n\treturn (\r\n\t\t<div className=\"bet\">\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"bet__btn bet__btn_minus\"\r\n\t\t\t\tonClick={handlerBetDown}\r\n\t\t\t\tdisabled={isMinusDisabled}\r\n\t\t\t>\r\n\t\t\t\t-\r\n\t\t\t</button>\r\n\t\t\t<div className=\"bet__info\">\r\n\t\t\t\t<div className=\"bet__value\">{bet}</div>\r\n\t\t\t\t<div className=\"bet__desc\">bet</div>\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"bet__btn bet__btn_plus\"\r\n\t\t\t\tonClick={handlerBetUp}\r\n\t\t\t\tdisabled={isPlusDisabled}\r\n\t\t\t>\r\n\t\t\t\t+\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import * as React from 'react';\r\n\r\nexport const Spin = props => {\r\n\tconst { handlerSpin, disabled } = props;\r\n\treturn (\r\n\t\t<div className=\"spin\">\r\n\t\t\t<button className=\"spin__btn\" onClick={handlerSpin} disabled={disabled}>\r\n\t\t\t\tspin\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import * as React from 'react';\r\n\r\nexport const SomeText = props => (\r\n\t<span className=\"some-text\">{props.text}</span>\r\n);\r\n","import * as React from 'react';\r\nimport { SomeText } from '../some-text/SomeText';\r\n\r\nexport const Win = props => {\r\n\tconst { win } = props;\r\n\treturn (\r\n\t\t<div className=\"win\">\r\n\t\t\t{win ? `+${win}` : <SomeText text={'SPIN to WIN'} />}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import * as React from 'react';\r\nimport { Bet } from '../bet/Bet';\r\nimport { Spin } from '../spin/Spin';\r\nimport { Win } from '../win/Win';\r\n\r\nexport const Footer = props => {\r\n\tconst {\r\n\t\tbet,\r\n\t\twin,\r\n\t\tisMinusDisabled,\r\n\t\tisPlusDisabled,\r\n\t\tisSpinDisabled,\r\n\t\thandlerBetDown,\r\n\t\thandlerBetUp,\r\n\t\thandlerSpin\r\n\t} = props;\r\n\treturn (\r\n\t\t<footer className=\"footer\">\r\n\t\t\t<Bet\r\n\t\t\t\tbet={bet}\r\n\t\t\t\tisMinusDisabled={isMinusDisabled}\r\n\t\t\t\tisPlusDisabled={isPlusDisabled}\r\n\t\t\t\thandlerBetDown={handlerBetDown}\r\n\t\t\t\thandlerBetUp={handlerBetUp}\r\n\t\t\t/>\r\n\t\t\t<Win win={win} />\r\n\t\t\t<Spin handlerSpin={handlerSpin} disabled={isSpinDisabled} />\r\n\t\t</footer>\r\n\t);\r\n};\r\n","import * as React from 'react';\r\n\r\nexport const SlotScreen = props => (\r\n\t<div className=\"slot-screen\">\r\n\t\t{props.slots.map((slot, i) => (\r\n\t\t\t<SlotRow key={i} row={slot} />\r\n\t\t))}\r\n\t</div>\r\n);\r\n\r\nconst SlotRow = props => (\r\n\t<div className=\"slot-row\">\r\n\t\t{props.row.map((value, i) => (\r\n\t\t\t<div key={i} className=\"slot-item\">\r\n\t\t\t\t{value}\r\n\t\t\t</div>\r\n\t\t))}\r\n\t</div>\r\n);\r\n","import * as React from 'react';\r\nimport Div100vh from 'react-div-100vh';\r\n\r\nexport const Loader = props => {\r\n\tconst { text } = props;\r\n\treturn (\r\n\t\t<Div100vh className=\"loader\">\r\n\t\t\t<div>{text || 'Loading... *simple loader*'}</div>\r\n\t\t</Div100vh>\r\n\t);\r\n};\r\n","import React, { useState, useEffect } from 'react';\nimport Div100vh from 'react-div-100vh';\nimport Modal from 'react-modal';\nimport { Header } from '../components/header/Header';\nimport { Content } from '../components/content/Content';\nimport { Footer } from '../components/footer/Footer';\nimport { SlotScreen } from '../components/slot-screen/SlotScreen';\nimport { Loader } from '../components/loader/Loader';\n\nconst API_URL = 'https://game-server.kovalevskyi.net/';\n\nconst urlParams = new URLSearchParams(window.location.search);\nconst uid = urlParams.get('uid') || 771;\nconst winDelay = 2000;\n\nModal.setAppElement('#root');\nModal.defaultStyles.overlay.backgroundColor = null;\nModal.defaultStyles.content = {\n\t...Modal.defaultStyles.content,\n\tdisplay: 'flex',\n\tjustifyContent: 'center',\n\talignItems: 'center',\n\ttop: '4%',\n\tright: '4%',\n\tbottom: '4%',\n\tleft: '4%'\n};\n\nconst HOF = () => {\n\tconst [loaderText, setLoaderText] = useState('');\n\tconst [isSpin, setIsSpin] = useState(false);\n\tconst [balance, setBalance] = useState(null);\n\tconst [slots, setSlots] = useState(null);\n\tconst [bet, setBet] = useState(null);\n\tconst [bets, setBets] = useState([]);\n\tconst [win, setWin] = useState(null);\n\tconst [modalIsOpen, setModalIsOpen] = useState(false);\n\n\tuseEffect(() => {\n\t\tfetch(`${API_URL}init?uid=${uid}`)\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tconst { error, balance, last_bet, bets, rolls } = data;\n\t\t\t\tif (error) {\n\t\t\t\t\tconst errorMsg = `..Oops! ${error}!`;\n\t\t\t\t\tsetLoaderText(errorMsg);\n\t\t\t\t\tthrow Error(errorMsg);\n\t\t\t\t}\n\t\t\t\tsetSlots(rolls);\n\t\t\t\tsetBets(bets);\n\t\t\t\tsetBet(bets.indexOf(last_bet));\n\t\t\t\tsetBalance(balance);\n\t\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (win) {\n\t\t\t// win animation start here\n\t\t\tconsole.log(`WIN! +${win}`);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetWin(null);\n\t\t\t\t// win animation stop here\n\t\t\t}, winDelay);\n\t\t}\n\t}, [win]);\n\n\tconst closeModal = () => setModalIsOpen(false);\n\n\tconst openModal = () => setModalIsOpen(true);\n\n\tconst handlerBetDown = () => {\n\t\tif (bet > 0) setBet(bet - 1);\n\t};\n\n\tconst handlerBetUp = () => {\n\t\tif (bet < bets.length - 1) setBet(bet + 1);\n\t};\n\n\tconst handlerSpin = () => {\n\t\tif (isSpin) return false;\n\t\tif (balance < bets[bet]) return openModal();\n\t\tsetIsSpin(true);\n\t\tconsole.log('spin is running...');\n\t\t// SlotScreen animation start here\n\t\tsetBalance(balance => balance - bets[bet]);\n\t\tfetch(`${API_URL}spin?uid=${uid}&bet=${bets[bet]}`)\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tconst { error, balance, last_bet, win = null, rolls } = data;\n\t\t\t\tif (error) {\n\t\t\t\t\tconst errorMsg = `..Oops! ${error}!`;\n\t\t\t\t\tsetLoaderText(errorMsg);\n\t\t\t\t\tthrow Error(errorMsg);\n\t\t\t\t}\n\t\t\t\tsetSlots(rolls);\n\t\t\t\tsetBet(bets.indexOf(last_bet));\n\t\t\t\tsetBalance(balance);\n\t\t\t\tif (win) setWin(win);\n\t\t\t\tsetIsSpin(false);\n\t\t\t\tconsole.log('spin is ended');\n\t\t\t\t// SlotScreen animation stop here\n\t\t\t});\n\t};\n\n\treturn typeof balance === 'number' ? (\n\t\t<Div100vh className=\"hof\">\n\t\t\t<Header balance={balance} />\n\t\t\t<Content children={<SlotScreen slots={slots} />} />\n\t\t\t<Footer\n\t\t\t\tbet={bets[bet]}\n\t\t\t\twin={win}\n\t\t\t\tisMinusDisabled={isSpin || bet === 0}\n\t\t\t\tisPlusDisabled={isSpin || bet === bets.length - 1}\n\t\t\t\thandlerBetDown={handlerBetDown}\n\t\t\t\thandlerBetUp={handlerBetUp}\n\t\t\t\thandlerSpin={handlerSpin}\n\t\t\t\tisSpinDisabled={isSpin}\n\t\t\t/>\n\t\t\t<Modal isOpen={modalIsOpen} onRequestClose={closeModal}>\n\t\t\t\t<button className=\"modal-close\" onClick={closeModal}>&#10006;</button>\n\t\t\t\t<p>\n\t\t\t\t\tGold not enough!\n\t\t\t\t\t<br />\n\t\t\t\t\tWe need more gold!\n\t\t\t\t\t<br />\n\t\t\t\t\tDonate, donate, donate...\n\t\t\t\t\t<br />\n\t\t\t\t\t*here is buttons \"PayToPlay\" and donations plans*\n\t\t\t\t</p>\n\t\t\t</Modal>\n\t\t</Div100vh>\n\t) : (\n\t\t<Loader text={loaderText} />\n\t);\n};\n\nexport default HOF;\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.sass';\nimport HOF from './containers/HOF';\n\nReactDOM.render(<HOF />, document.getElementById('root'));\n"],"sourceRoot":""}